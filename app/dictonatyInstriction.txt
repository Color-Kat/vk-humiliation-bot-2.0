заходим в массив answers и ищем в нём совпадения по паттерну,
и берем answer с самым высоким priority, либо тот, который находится дальше.
Выбираем из него рандомный ответ.
Если ответ - простая строка - возвращаем её
Если ответ - объект, то проверяем дополнительный паттерн, возвращаем один ответ из messages
Если в ответе есть свойство with_prev_messages, то в БД в список предыдущих сообщений добавляем with_prev_mess_id,
потом отвечаем пользователю из messages. Когда пользователь отправил следующее сообщение, то нужно из БД взять
айди последнего сообщения бота, найти этот же Answer с таким id и ответить с помощью поля next:
В next анализируем паттерн - если есть совпадение, то отвечаем из messages, удаляем предыдущее последнее сообщение бота
и добавляем в последние сообщение with_prev_mess_id из этого поля next, если оно есть.
Если совпадения нет, то удаляем предыдущее сообщение.

Можно добавить поле forced - если оно есть, то бот будет заставлять человека ответить на его предыдущее сообщение,
если нет совпадения с pattern, но нужно тогда добавить определенный шанс, что бот отстанет от человека

